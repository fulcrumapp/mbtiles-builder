(function(r){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=r()}else if(typeof define==="function"&&define.amd){define([],r)}else{var e;if(typeof window!=="undefined"){e=window}else if(typeof global!=="undefined"){e=global}else if(typeof self!=="undefined"){e=self}else{e=this}e.tileCover=r()}})(function(){var r,e,t;return function(){function v(i,a,f){function u(t,r){if(!a[t]){if(!i[t]){var e="function"==typeof require&&require;if(!r&&e)return e(t,!0);if(l)return l(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=a[t]={exports:{}};i[t][0].call(o.exports,function(r){var e=i[t][1][r];return u(e||r)},o,o.exports,v,i,a,f)}return a[t].exports}for(var l="function"==typeof require&&require,r=0;r<f.length;r++)u(f[r]);return u}return v}()({1:[function(r,e,t){"use strict";var f=Math.PI/180,n=180/Math.PI;function o(r){var e=a(r[0]+1,r[2]);var t=a(r[0],r[2]);var n=u(r[1]+1,r[2]);var o=u(r[1],r[2]);return[t,n,e,o]}function i(r){var e=o(r);var t={type:"Polygon",coordinates:[[[e[0],e[1]],[e[0],e[3]],[e[2],e[3]],[e[2],e[1]],[e[0],e[1]]]]};return t}function a(r,e){return r/Math.pow(2,e)*360-180}function u(r,e){var t=Math.PI-2*Math.PI*r/Math.pow(2,e);return n*Math.atan(.5*(Math.exp(t)-Math.exp(-t)))}function l(r,e,t){var n=T(r,e,t);n[0]=Math.floor(n[0]);n[1]=Math.floor(n[1]);return n}function v(r){return[[r[0]*2,r[1]*2,r[2]+1],[r[0]*2+1,r[1]*2,r[2]+1],[r[0]*2+1,r[1]*2+1,r[2]+1],[r[0]*2,r[1]*2+1,r[2]+1]]}function s(r){if(r[0]%2===0&&r[1]%2===0){return[r[0]/2,r[1]/2,r[2]-1]}if(r[0]%2===0&&!r[1]%2===0){return[r[0]/2,(r[1]-1)/2,r[2]-1]}if(!r[0]%2===0&&r[1]%2===0){return[(r[0]-1)/2,r[1]/2,r[2]-1]}return[(r[0]-1)/2,(r[1]-1)/2,r[2]-1]}function p(r){return v(s(r))}function c(r,e){var t=p(r);for(var n=0;n<t.length;n++){if(!h(e,t[n]))return false}return true}function h(r,e){for(var t=0;t<r.length;t++){if(g(r[t],e))return true}return false}function g(r,e){return r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2]}function y(r){var e="";for(var t=r[2];t>0;t--){var n=0;var o=1<<t-1;if((r[0]&o)!==0)n++;if((r[1]&o)!==0)n+=2;e+=n.toString()}return e}function d(r){var e=0;var t=0;var n=r.length;for(var o=n;o>0;o--){var i=1<<o-1;var a=+r[n-o];if(a===1)e|=i;if(a===2)t|=i;if(a===3){e|=i;t|=i}}return[e,t,n]}function M(r){var e=l(r[0],r[1],32);var t=l(r[2],r[3],32);var n=[e[0],e[1],t[0],t[1]];var o=m(n);if(o===0)return[0,0,0];var i=n[0]>>>32-o;var a=n[1]>>>32-o;return[i,a,o]}function m(r){var e=28;for(var t=0;t<e;t++){var n=1<<32-(t+1);if((r[0]&n)!==(r[2]&n)||(r[1]&n)!==(r[3]&n)){return t}}return e}function T(r,e,t){var n=Math.sin(e*f),o=Math.pow(2,t),i=o*(r/360+.5),a=o*(.5-.25*Math.log((1+n)/(1-n))/Math.PI);return[i,a,t]}e.exports={tileToGeoJSON:i,tileToBBOX:o,getChildren:v,getParent:s,getSiblings:p,hasTile:h,hasSiblings:c,tilesEqual:g,tileToQuadkey:y,quadkeyToTile:d,pointToTile:l,bboxToTile:M,pointToTileFraction:T}},{}],"@mapbox/tile-cover":[function(r,e,t){"use strict";var w=r("@mapbox/tilebelt");t.geojson=function(r,e){return{type:"FeatureCollection",features:o(r,e).map(n)}};function n(r){return{type:"Feature",geometry:w.tileToGeoJSON(r),properties:{}}}t.tiles=o;t.indexes=function(r,e){return o(r,e).map(w.tileToQuadkey)};function o(r,e){var t,n,o=r.coordinates,i=e.max_zoom,a={},f=[];if(r.type==="Point"){return[w.pointToTile(o[0],o[1],i)]}else if(r.type==="MultiPoint"){for(t=0;t<o.length;t++){n=w.pointToTile(o[t][0],o[t][1],i);a[P(n[0],n[1],n[2])]=true}}else if(r.type==="LineString"){g(a,o,i)}else if(r.type==="MultiLineString"){for(t=0;t<o.length;t++){g(a,o[t],i)}}else if(r.type==="Polygon"){s(a,f,o,i)}else if(r.type==="MultiPolygon"){for(t=0;t<o.length;t++){s(a,f,o[t],i)}}else{throw new Error("Geometry type not implemented")}if(e.min_zoom!==i){var u=f.length;p(a,f);for(t=0;t<u;t++){var l=f[t];a[P(l[0],l[1],l[2])]=true}return v(a,f,e)}p(a,f);return f}function v(r,e,t){var n=[];for(var o=t.max_zoom;o>t.min_zoom;o--){var i={};var a=[];for(var f=0;f<e.length;f++){var u=e[f];if(u[0]%2===0&&u[1]%2===0){var l=P(u[0]+1,u[1],o),v=P(u[0],u[1]+1,o),s=P(u[0]+1,u[1]+1,o);if(r[l]&&r[v]&&r[s]){r[P(u[0],u[1],u[2])]=false;r[l]=false;r[v]=false;r[s]=false;var p=[u[0]/2,u[1]/2,o-1];if(o-1===t.min_zoom)n.push(p);else{i[P(u[0]/2,u[1]/2,o-1)]=true;a.push(p)}}}}for(f=0;f<e.length;f++){u=e[f];if(r[P(u[0],u[1],u[2])])n.push(u)}r=i;e=a}return n}function s(r,e,t,n){var o=[];for(var i=0;i<t.length;i++){var a=[];g(r,t[i],n,a);for(var f=0,u=a.length,l=u-1;f<u;l=f++){var v=(f+1)%u;var s=a[f][1];if((s>a[l][1]||s>a[v][1])&&(s<a[l][1]||s<a[v][1])&&s!==a[v][1])o.push(a[f])}}o.sort(h);for(i=0;i<o.length;i+=2){s=o[i][1];for(var p=o[i][0]+1;p<o[i+1][0];p++){var c=P(p,s,n);if(!r[c]){e.push([p,s,n])}}}}function h(r,e){return r[1]-e[1]||r[0]-e[0]}function g(r,e,t,n){var o,i;for(var a=0;a<e.length-1;a++){var f=w.pointToTileFraction(e[a][0],e[a][1],t),u=w.pointToTileFraction(e[a+1][0],e[a+1][1],t),l=f[0],v=f[1],s=u[0],p=u[1],c=s-l,h=p-v;if(h===0&&c===0)continue;var g=c>0?1:-1,y=h>0?1:-1,d=Math.floor(l),M=Math.floor(v),m=c===0?Infinity:Math.abs(((c>0?1:0)+d-l)/c),T=h===0?Infinity:Math.abs(((h>0?1:0)+M-v)/h),b=Math.abs(g/c),x=Math.abs(y/h);if(d!==o||M!==i){r[P(d,M,t)]=true;if(n&&M!==i)n.push([d,M]);o=d;i=M}while(m<1||T<1){if(m<T){m+=b;d+=g}else{T+=x;M+=y}r[P(d,M,t)]=true;if(n&&M!==i)n.push([d,M]);o=d;i=M}}if(n&&M===n[0][1])n.pop()}function p(r,e){var t=Object.keys(r);for(var n=0;n<t.length;n++){e.push(i(+t[n]))}}function P(r,e,t){var n=2*(1<<t);return(n*e+r)*32+t}function i(r){var e=r%32,t=2*(1<<e),n=(r-e)/32,o=n%t,i=(n-o)/t%t;return[o,i,e]}},{"@mapbox/tilebelt":1}]},{},[])("@mapbox/tile-cover")});
